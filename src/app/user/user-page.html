<app-toolbar title="User Details"></app-toolbar>

<form (ngSubmit)="save()" novalidate [formGroup]="userForm">

  <div fxFlexLayout=row fxLayoutAlign="space-between" fxLayoutGap=20px>

    <mat-form-field fxFlex="calc(50%-20px)">
      <mat-label>First Name</mat-label>
      <input matInput required formControlName="firstname">
    </mat-form-field>

    <mat-form-field fxFlex="calc(50%-20px)">
      <mat-label>Last Name</mat-label>
      <input matInput required formControlName="surname">
    </mat-form-field>

  </div>

  <mat-form-field>
    <mat-label>Nationality</mat-label>
    <mat-select required formControlName="nationality">
      @for (nation of nations; track nation) {
      <mat-option [value]="nation.abrievation">
        {{ nation.fullname }}
      </mat-option>
      }
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Club abrievation</mat-label>
    <input matInput formControlName="club" minlength=2 maxlength=10>
    <mat-hint align="end">Between 2 and 10 characters</mat-hint>
  </mat-form-field>

  <div fxLayout="row" fxLayoutAlign="space-between center">
    <button [disabled]="userForm.invalid || !userForm.dirty || busy()" mat-flat-button type="submit"
      aria-label="Save user details">Save</button>
  </div>

</form>