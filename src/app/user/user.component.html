<app-navbar></app-navbar>

<div fxLayout="column" fxLayoutAlign="start center" fxFlexFill class=gray>

  <div  fxLayout="column" fxLayoutAlign="space-around center" fxLayoutGap=10px>

    <h5> User details</h5>

    <div class=error>{{error}}</div>

    <mat-card>

      <form [formGroup]="userForm" (ngSubmit)="save()" novalidate>

        <div fxLayout="column" fxFlex fxLayoutAlign="space-around" fxLayoutGap=10px>

          <mat-progress-bar *ngIf="showProgressBar" mode="query"> </mat-progress-bar>

          <div fxFlexLayout=row>
            <mat-form-field>
              <input matInput formControlName="firstName" placeholder="First Name">
            </mat-form-field>

            <mat-form-field>
              <input matInput formControlName="lastName" placeholder="Last Names">
            </mat-form-field>
          </div>

          <mat-form-field>
            <input type="text" matInput formControlName="nationality" [matAutocomplete]="auto" placeholder="Nationality">
            <mat-error>Nationality required</mat-error>
          </mat-form-field>

          <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let nation of filteredNations | async" [value]="nation.fullname">
              {{ nation.fullname }}
            </mat-option>
          </mat-autocomplete>

          <mat-form-field>
            <input matInput formControlName="yearOfBirth" type="number" placeholder="Year of birth">
            <mat-hint align="end">yyyy</mat-hint>
           <mat-error>Invalid year</mat-error>
          </mat-form-field>

          <mat-form-field>
            <input matInput formControlName="club" minlength=2 maxlength=10 placeholder="Club abrievation">
            <mat-hint align="end">Between 2 and 10 characters</mat-hint>
          </mat-form-field>

          <mat-form-field>
            <input matInput formControlName="nationalId" type="number" placeholder="National ID number">
          </mat-form-field>

          <mat-form-field>
            <input matInput formControlName="ecardSI" type="number" placeholder="Sportident ecard number">
          </mat-form-field>

          <mat-form-field>
            <input matInput formControlName="ecardEmit" type="number" placeholder="Emit ecard number">
          </mat-form-field>

          <mat-checkbox formControlName="autoFind"> Automatically add results </mat-checkbox>

          <div fxLayout="row" fxLayoutAlign="space-between center">
            <button [disabled]="userForm.invalid" mat-raised-button color=primary type="submit" aria-label="login">Save</button>
          </div>
        </div>

      </form>
    </mat-card>

  </div>

</div>