<app-toolbar>Event entry</app-toolbar>

<!-- Put form in middle of page -->
<div fxLayout="row" fxLayoutAlign="center space-around">

  <mat-card>
    <form *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit()">

      <mat-card-content>

        <div fxLayout="column" fxLayoutAlign="space-around" fxLayoutGap=15px>

          <div fxFlexLayout=row fxLayoutAlign="space-between" fxLayoutGap=20px>

            <mat-form-field fxFlex="calc(50%-20px)">
              <input matInput required formControlName="firstname" placeholder="First Name">
            </mat-form-field>

            <mat-form-field fxFlex="calc(50%-20px)">
              <input matInput required formControlName="surname" placeholder="Last Names">
            </mat-form-field>

          </div>

          <mat-form-field>
            <input matInput formControlName="club" placeholder="Club">
          </mat-form-field>

          <mat-form-field>
            <mat-label>Course</mat-label>
            <mat-select [formControl]="course" required>
              <mat-option>--</mat-option>
              <mat-option *ngFor="let course of details.courses" [value]="course.name">
                {{course.name}} - <span *ngIf="course.maxMaps">{{course.maxMaps - course.reservedMaps}} maps left</span>
              </mat-option>
            </mat-select>
            <mat-error *ngIf="course.hasError('required')">Please choose a course</mat-error>
          </mat-form-field>

      </mat-card-content>

      <mat-card-actions>

        <div fxLayout="row" fxLayoutAlign="space-between center">
          <button [disabled]="form.invalid || (!form.dirty && !coursesChanged)" mat-raised-button color=primary
            type="submit">Save</button>
        </div>

      </mat-card-actions>

    </form>

  </mat-card>
</div>