<div class="main-container clipped-container">
   @if (rd.isLoading()) {
      <app-results-loading />
   } @else if (rd.error()) {
      <app-results-error error="rd.error()"/>
   } @else {

   <app-results-navbar>

      <div start>
         <app-selection-sidebar-button />
      </div>
   
      <app-compare-with [(selected)]="comparisonOptions" />
      @if (comparisonOptions().nameKey === 'CompareWithAnyRunner') {
      <app-compare-with-competitor [competitors]="this.courseClassSet().allCompetitors"
         [(selected)]="comparisonCompetitor" />
      }
      <app-label-flags-select end [(flags)]="leftLabelFlags" />
   </app-results-navbar>

   <div class="content clipped-container">

      <apps-selection-sidebar [view]="chartType().nameKey" />

      <div #chart class="chart"></div>

   </div>
}
</div>