<div class="main-container clipped-container">
   @if (rd.isLoading()) {
      <app-results-loading />
   } @else if (rd.error()) {
      <app-results-error error="rd.error()"/>
   } @else {

   <app-results-navbar>
      <app-selection-sidebar-button />
      <app-event-title [name]="rd.event()?.name" 
                       [date]="rd.event()?.date"
                      [courseClassName]="rs.course()?.name" />  
   
      <app-compare-with [(selected)]="comparisonOptions" />
      @if (comparisonOptions().nameKey === 'CompareWithAnyRunner') {
      <app-compare-with-competitor [competitors]="this.courseClassSet().allCompetitors"
         [(selected)]="comparisonCompetitor" />
      }
      <app-label-flags-select settings [(flags)]="leftLabelFlags" />
   </app-results-navbar>

   <div class="content clipped-container">

      <apps-selection-sidebar [view]="chartType().nameKey" />

      <div #chart class="chart"></div>

   </div>
}
</div>