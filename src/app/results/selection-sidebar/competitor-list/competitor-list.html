<div class="top-controls">
   
   <app-colored-circle [text]="selectedText()" [color]="selectedColor()" (click)="selectOrClear()"></app-colored-circle>

   @if (rs.oclass().course.classes.length > 1) {
      <app-course-or-class />
   }
   <app-results-search-button class="search-button"/>
</div>

@if (showCrossing()) {
   <button matButton="outlined" class="dense-button crossing-runners" (click)="selectCrossingRunners()">
      Crossing Runners
   </button>
}

<ol>
   @for (comp of rs.displayedCompetitors(); track comp.key; let index= $index ) {
   <li (click)="toggleSelected(comp)">
      @let pos = position(comp);
      @if (rs.isCompetitorSelected(comp)) {
        <app-colored-circle class="circle" [text]="pos" [color]="comp.color" />
      } @else {
        <span class="position">{{pos}}</span>
      }
      <span class="name">{{comp.name}}</span>
      <span class="club">{{comp.club}}</span>
      <span class="oclass">{{comp.courseClass.name}}</span>
      <span class="time">{{comp.totalTime | formatTime}}</span>
      <span class="behind">{{timeBehind(comp) | formatTime}}</span>
   </li>
   } @empty {
   No competitors
   }
</ol>