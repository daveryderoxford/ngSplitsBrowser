<div class="search-container" [class.expanded]="expanded()">
   
   <mat-form-field appearance="outline" subscriptSizing="dynamic" class="rounded dense-form-field">

      <input matInput type="search" [(ngModel)]="searchTerm" placeholder="Search&hellip;" autocomplete="off"
         (blur)="expanded.set(searchTerm==null || searchTerm.length==0)">

   </mat-form-field>

   <button mat-icon-button type="button" class="searchIcon" (click)="expanded.set(!expanded())">
      @if (expanded()) {
         <mat-icon (click)="searchTerm.set('')" class="mat-18">close</mat-icon>
      } @else {
        <mat-icon class="mat-18">search</mat-icon>
      }
   </button>

</div>

