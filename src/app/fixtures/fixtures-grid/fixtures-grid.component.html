<div *ngIf="fixtures.length === 0" class="nodata">
  <h3>No events found</h3>
</div>

<table mat-table class="table" [dataSource]="fixtures" [trackBy]="trackBy">

  <!-- Date  -->
  <ng-container matColumnDef="date">
    <th mat-header-cell style="width:50px" *matHeaderCellDef> Date </th>
    <td mat-cell *matCellDef="let row"> {{dateString(row.date) }} </td>
  </ng-container>


  <!-- Distance-->
  <ng-container matColumnDef="distance">
    <th mat-header-cell style="width:50px;" *matHeaderCellDef> Distance </th>
    <td mat-cell style="text-align: right; padding-right: 40px;" *matCellDef="let row"> {{ distanceFromHome(row) }} </td>
  </ng-container>

  <!-- Name -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Name </th>
    <td mat-cell *matCellDef="let row"> {{row.name}} </td>
  </ng-container>

  <!-- Club with link -->
  <ng-container matColumnDef="club">
    <th mat-header-cell style="width:100px" *matHeaderCellDef> Club </th>
    <td mat-cell style="text-align: center;" *matCellDef="let row">
      <a href={{row.clubURL}}> {{row.club}} </a>
    </td>
  </ng-container>

  <!-- Level-->
  <ng-container matColumnDef="level">
    <th mat-header-cell style="width:100px" *matHeaderCellDef> Level </th>
    <td mat-cell style="text-align: center;" *matCellDef="let row">{{row.grade}} </td>
  </ng-container>

  <!-- Area-->
  <ng-container matColumnDef="area">
    <th mat-header-cell *matHeaderCellDef> Area </th>
    <td mat-cell *matCellDef="let row">
      <div *ngIf="row.latLong; then arealink else noarealink"></div>
      <ng-template #arealink><a href="{{bingURL(row)}}" target="_blank">{{row.area}}</a></ng-template>
      <ng-template #nolink>{{row.area}}</ng-template>
    </td>
  </ng-container>

  <!-- Postcode -->
  <ng-container matColumnDef="location">
    <th mat-header-cell *matHeaderCellDef> Location </th>
    <td mat-cell *matCellDef="let row">
      <div *ngIf="row.latLong; then arealink else noarealink"></div>
      <ng-template #arealink>
          <a href={{googleURL(row)}} target="_blank"> {{row.postcode}} </a> 
      </ng-template>
      <ng-template #nolink>{{row.postcode}}</ng-template>
    </td>
  </ng-container>

    <!-- Directions -->
    <ng-container matColumnDef="directions">
      <th mat-header-cell *matHeaderCellDef> Directions </th>
      <td mat-cell *matCellDef="let row">
          <a href={{googleDirectionsURL(row)}} target="_blank" *ngIf="row.latLong"> Directions </a>
      </td>
    </ng-container>

  <!-- Header and Row Declarations -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
  <tr mat-row #tableRows *matRowDef="let row; columns: displayedColumns;" (click)=eventClicked(row)
    [ngClass]="{ 'selected': selected(row) }"></tr>
</table>