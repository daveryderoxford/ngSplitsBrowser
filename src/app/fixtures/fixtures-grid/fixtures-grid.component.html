<cdk-virtual-scroll-viewport fxFill [itemSize]="itemSize">

  <!-- Large Screen -->
  <table *ngIf="!handset" fxFill>
    <thead>
      <tr>
        <th class="liked"></th>
        <th class="date">Date</th>
        <th class="distance">Distance</th>
        <th class="name">Name</th>
        <th class="club">Club</th>
        <th class="level">Level</th>
        <th class="area">Area</th>
        <th class="location">Location</th>
        <th class="directions">Directions</th>
        <th class="actions">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *cdkVirtualFor="let row of fixtures; trackBy: trackBy" style="width:100%; min-height: 30px;"
        (click)=eventClicked(row) [ngClass]="{ 'selected': selected(row) }">
        <td class="liked">
          <mat-icon *ngIf="isLiked(row.id)" class="red">favorite</mat-icon>
        </td>
        <td class="date"> {{row.date | fixturedate }} </td>
        <td class="distance"> {{row.distance | distance }}</td>
        <td class="name"> {{row.name}} </td>
        <td class="club">
          <a href={{row.clubURL}} target="_blank"> {{row.club}} </a>
        </td>
        <td class="level">{{row.grade}} </td>
        <td class="area">
          <div *ngIf="row.latLong; then arealink else nolink"></div>
          <ng-template #arealink><a href="{{row | bingURL}}" target="_blank">{{row.area}}</a></ng-template>
          <ng-template #nolink>{{row.area}}</ng-template>
        </td>
        <td class="location">
          <div *ngIf="row.latLong; then googlelink else nolink1"></div>
          <ng-template #googlelink> <a href="{{row | googleURL}}" target="_blank">{{row.postcode}}</a></ng-template>
          <ng-template #nolink1>{{row.postcode}}</ng-template>
        </td>
        <td class="directions">
          <a href="{{row.latLong | googleDirectionsURL:homeLocation }}" target="_blank" *ngIf="row.latLong">
            Directions</a>
        </td>
        <td class="actions">
          <app-fixture-actions [fixture]="row" [handset]="handset"></app-fixture-actions>
        </td>
      </tr>
    </tbody>
  </table>


  <!-- Handset -->
  <mat-list *ngIf="handset">

    <mat-list-item (click)="actions.openMenu()" *cdkVirtualFor="let fixture of fixtures">

      <div mat-line>
        <span fxFlex=50>{{fixture.date | fixturedate }}</span>
        <span fxFlex=30> {{fixture.club}}</span>
        <span fxFlex *ngIf="fixture.distance !== -1;">
          {{fixture.distance}}miles
        </span>
      </div>
      <p mat-line>
        {{fixture.name | ellipsis:35}}
      </p>
      <p mat-line>
        {{fixture.area | ellipsis: 30}}
        <span fxFlex></span>

        <mat-icon *ngIf="isLiked(fixture.id)" inline=true>favorite</mat-icon>
      </p>

      <app-fixture-actions #actions [handset]="handset" [fixture]="fixture"></app-fixture-actions>

      <mat-divider></mat-divider>
    </mat-list-item>

  </mat-list>

</cdk-virtual-scroll-viewport>